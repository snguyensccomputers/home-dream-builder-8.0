@extends('../admin/layouts/default')@section('header')@include('admin.header')@stop@section('navbar')@include('admin.navbar')@stop@section('sidebar')@include('admin.sidebar')@stop@section('content')        <!-- Main section--><section>    <!-- Page content-->    <div class="content-wrapper">        <div class="content-heading">            Edit Question            <small>Edit a question using the form below!</small>        </div>        <div class="row">            <div class="col-md-12">                <div class="panel panel-default">                    <div class="panel-heading">Edit Question Form</div>                    <div class="panel-body">                        {{ Form::open(['url' => 'admin/questions/' . $id . '/update', 'files' => true, 'class' => '', 'onsubmit' => 'return postForm()']) }}                        <div class='row'>                            <div class='col-lg-3'>                                <div class="form-group">                                    {{ Form::label('question-type', 'Type') }}                                    {{ Form::text('question-type', $question->type, array('class'=>'form-control', 'readonly')) }}                                    {{ $errors->first('question-type', '<div class=error>:message</div>') }}                                </div>                            </div>                        </div>                        <div class='row'>                            <div class="col-lg-3">                                <div class="form-group">                                    {{ Form::label('image', 'Image') }}                                    {{ Form::file('image', array('accept' => '.png, .jpg, jpeg')) }}                                    {{ $errors->first('image', '<div class=error>:message</div>') }}                                </div>                            </div>                        </div>                        <div class="row">                            <div class='col-lg-12'>                                <div class="form-group">                                    {{ Form::label('question', 'Question') }}                                    {{ Form::text('question', $question->question, array('class'=>'form-control')) }}                                    {{ $errors->first('question', '<div class=error>:message</div>') }}                                </div>                            </div>                        </div>                        <div class='row'>                            <div class="col-lg-3">                                <div class="form-group">                                    {{ Form::label('tag', 'Tag') }}                                    {{ Form::text('tag', $question->tag, array('class'=>'form-control', 'readonly')) }}{{--                                    <small>(If blank, defaults to the format "tag-name" from the question)</small>--}}                                    {{ $errors->first('tag', '<div class=error>:message</div>') }}                                </div>                            </div>                            <div class='col-lg-6'>                                <div class="form-group">                                    {{ Form::label('feature', 'Feature') }}                                    <select name="feature" class="form-control">                                        <option value="">No Feature</option>                                        @foreach ($features as $id => $feature)                                            <option value="{{ $id }}" {{ ($question->feature_id == $id) ? 'selected' : '' }}>{{ $feature }}</option>                                        @endforeach                                    </select>                                    {{ $errors->first('feature', '<div class=error>:message</div>') }}                                </div>                            </div>                        </div>                        <br/>                        <div class="row">                            <div class='col-lg-4'>                                <div class="form-group">                                    {{ Form::label('pros', 'Pros') }}                                    {{ Form::textarea('pros', $question->pros, array('class'=>'form-control', 'id' => 'summernote')) }}                                    {{ $errors->first('pros', '<div class=error>:message</div>') }}                                </div>                            </div>                            <div class='col-lg-4'>                                <div class="form-group">                                    {{ Form::label('cons', 'Cons') }}                                    {{ Form::textarea('cons', $question->cons, array('class'=>'form-control', 'id' => 'summernote2')) }}                                    {{ $errors->first('cons', '<div class=error>:message</div>') }}                                </div>                            </div>                            <div class='col-lg-4'>                                <div class="form-group">                                    {{ Form::label('life_hacks', 'Life Hacks') }}                                    {{ Form::textarea('life_hacks', $question->life_hacks, array('class'=>'form-control', 'id' => 'summernote3')) }}                                    {{ $errors->first('life_hacks', '<div class=error>:message</div>') }}                                </div>                            </div>                        </div>                        <br/>                        <div class='row'>                            <div class="col-lg-3">                                <div class="form-group">                                    {{ Form::label('trigger_skip', 'Trigger Skip') }} &nbsp; <small>* If answer is no, skip selected question(s)</small> <br/>                                    {{ Form::radio('trigger_skip', 1, (($question->trigger_skip == 1) ? true : false), array()) }} Yes &nbsp;                                    {{ Form::radio('trigger_skip', 0, (($question->trigger_skip == 0) ? true : false), array()) }} No <br/>                                    {{ $errors->first('trigger_skip', '<div class=error>:message</div>') }}                                </div>                            </div>                            <div class="col-lg-9">                                {{ Form::label('questions_to_skip', 'Question(s) to Skip') }}                                {{ Form::hidden('questions_to_skip_ids', $question->questions_to_skip_ids, array('class'=>'form-control')) }}                                <select name="questions_to_skip" class="form-control chosen-select" multiple>                                    @foreach ($otherQuestions as $otherQuestion)                                        <option value="{{ $otherQuestion->id }}" {{ in_array($otherQuestion->id, explode(',', $question->questions_to_skip_ids)) ? 'selected' : '' }}>                                            {{ $otherQuestion->question }}                                        </option>                                    @endforeach                                </select>                                {{ $errors->first('questions_to_skip', '<div class=error>:message</div>') }}                            </div>                        </div>                        <div class="text-right mt30">                            {{ Form::submit('Update Question', array('class' => 'btn btn-default bg-blue')) }}                        </div>                        {{ Form::hidden('type', 'edit') }}                        {{ Form::close() }}                    </div>                </div>            </div>        </div>    </div></section>@stop@section('footer')    @include('admin.footer')    <script>        $(document).ready(function(){            $('.chosen-select').chosen();            $('select[name=questions_to_skip]').change(function(){                var selected = [];                $(this).find(':selected').each(function(){                    selected.push($(this).val());                });                $('input[name=questions_to_skip_ids]').val(selected.join());            });        });    </script>@stop