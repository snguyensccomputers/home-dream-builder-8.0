@extends('../admin/layouts/default')@section('header')    @include('admin.header')@stop@section('navbar')    @include('admin.navbar')@stop@section('sidebar')    @include('admin.sidebar')@stop@section('content')        <!-- Main section--><section>    <!-- Page content-->    <div class="content-wrapper">        <h3>            Fixed Questions            <small>View and edit questions!</small>        </h3>        <div class="container-fluid">            <div class="row">                <div class="col-md-12" style="text-align:right;">{{--                    <a href="{{ asset('admin/fixed-questions/add') }}" class="btn btn-default bg-blue" style="margin-bottom:10px;">Add Question</a>--}}                </div>            </div>            <!-- START DATATABLE 1 -->            <div class="row">                <div class="col-lg-12">                    <div class="panel panel-default">                        <div class="panel-heading">                            Data Table |                            <small>Questions</small>                        </div>                        <div class="panel-body">                            <table id="datatable25" class="table table-striped table-hover">                                <thead>                                    <tr>                                        <th style="width:10%">ID</th>                                        <th style="width:15%">Type</th>                                        <th style="width:25%">Title</th>                                        <th style="width:30%">Question</th>                                        <th style="width:10%">Active</th>                                        <th style="width:10%"></th>                                    </tr>                                </thead>                                <tbody>                                @foreach ($questions as $question)                                    <tr id="row-{{ $question->id  }}">                                        <td>{{ $question->id }}</td>                                        <td>{{ $question->type }}</td>                                        <td>{{ $question->title }}</td>                                        <td>{{ $question->question }}</td>                                        <td class="is-active">{{ $question->active == 1 ? 'Yes' : 'No' }}</td>                                        <td style="text-align:right;">                                            <a href="/admin/fixed-questions/{{ $question->id }}/edit">Edit</a> |                                            <div class="{{ $question->active == 1 ? 'red' : 'green' }} toggle" style="display:inline-block" onclick="toggleActive({{ $question->id }})">{{ $question->active == 1 ? 'Disable' : 'Enable' }}</div>                                        </td>                                    </tr>                                @endforeach                                </tbody>                            </table>                        </div>                    </div>                </div>            </div>            <!-- END DATATABLE 1 -->        </div>    </div></section>@stop@section('footer')    @include('admin.footer')    <script>        var ajax_url = window.location.protocol + '//' + window.location.host;        $('.delete').click(function() {            if (confirm('Are you sure you want to delete this Question?')) {                window.location.replace($(this).data('link'));            }        });        function toggleActive(id) {            $.ajax({                url: ajax_url + '/admin/fixed-questions/toggle-active',                method: 'post',                cache: false,                data: { 'id': id },                complete: function(){},                success: function (data) {                    var row = $('#row-' + data['id']);                    row.find('.toggle').text(data['active-opposite-text']);                    if (data['active'] == 1) {                        row.find('.toggle').removeClass('green');                        row.find('.toggle').addClass('red');                        row.find('.is-active').text('Yes');                    }                    else {                        row.find('.toggle').removeClass('red');                        row.find('.toggle').addClass('green');                        row.find('.is-active').text('No');                    }                },                error: function (request, status, message) {                }            });        }    </script>@stop